{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nimport { Item } from 'src/app/models/Item';\nimport Swal from 'sweetalert2';\nlet SidebarwikiComponent = class SidebarwikiComponent {\n  constructor(wikiservice) {\n    this.wikiservice = wikiservice;\n    this.itemwiki = [];\n    this.enablemodification = false;\n  }\n  ngOnInit() {\n    this.wikiservice.getAllItemWiki().subscribe({\n      next: data => {\n        console.log(data);\n        this.itemwiki = data;\n      },\n      error: err => {\n        Swal.fire({\n          position: \"top-end\",\n          icon: \"error\",\n          title: \"Something went wrong! try later\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n      }\n    });\n  }\n  ajouterItem(item) {\n    if (item.value != \"\") {\n      Swal.fire({\n        title: \"Are you sure?\",\n        text: \"This wiki item will be saved !\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"Yes, save it!\"\n      }).then(result => {\n        if (result.isConfirmed) {\n          let itemS = new Item(item.value);\n          this.wikiservice.saveItemWiki(itemS).subscribe({\n            next: data => {\n              Swal.fire({\n                title: \"Saved!\",\n                text: \"Your item has been saved.\",\n                icon: \"success\"\n              });\n              setTimeout(() => {\n                window.location.reload();\n              }, 100);\n            },\n            error: err => {\n              Swal.fire({\n                position: \"top-end\",\n                icon: \"error\",\n                title: \"Something went wrong! try later\",\n                showConfirmButton: false,\n                timer: 1500\n              });\n            }\n          });\n        }\n      });\n    }\n  }\n  deleteItem(iditem) {\n    alert(iditem);\n  }\n};\n__decorate([Input()], SidebarwikiComponent.prototype, \"enablemodification\", void 0);\nSidebarwikiComponent = __decorate([Component({\n  selector: 'app-sidebarwiki',\n  templateUrl: './sidebarwiki.component.html',\n  styleUrls: ['./sidebarwiki.component.css']\n})], SidebarwikiComponent);\nexport { SidebarwikiComponent };","map":{"version":3,"names":["Component","Input","Item","Swal","SidebarwikiComponent","constructor","wikiservice","itemwiki","enablemodification","ngOnInit","getAllItemWiki","subscribe","next","data","console","log","error","err","fire","position","icon","title","showConfirmButton","timer","ajouterItem","item","value","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","itemS","saveItemWiki","setTimeout","window","location","reload","deleteItem","iditem","alert","__decorate","selector","templateUrl","styleUrls"],"sources":["/home/hannechi/Bureau/uspn_cfd/frontAppUspn/src/app/wiki/sidebarwiki/sidebarwiki.component.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { Item } from 'src/app/models/Item';\nimport { WikiService } from 'src/app/service/wiki.service';\nimport Swal from 'sweetalert2'\n\n@Component({\n  selector: 'app-sidebarwiki',\n  templateUrl: './sidebarwiki.component.html',\n  styleUrls: ['./sidebarwiki.component.css']\n})\nexport class SidebarwikiComponent implements OnInit {\n  itemwiki=[]\n  @Input() enablemodification:boolean=false;\n  constructor(private wikiservice : WikiService)\n  {\n\n  }\n  ngOnInit(): void {\n      this.wikiservice.getAllItemWiki().subscribe(\n        {\n          next:(data)=>\n          {\n            console.log(data)\n            this.itemwiki=data;\n          },\n          error:(err)=>\n          {\n            Swal.fire({\n              position: \"top-end\",\n              icon: \"error\",\n              title: \"Something went wrong! try later\",\n              showConfirmButton: false,\n              timer: 1500\n            });\n           \n\n          }\n        }\n      )\n  }\n\n\n  ajouterItem(item:any)\n  {\n    if(item.value!=\"\")\n    {\n    Swal.fire({\n      title: \"Are you sure?\",\n      text: \"This wiki item will be saved !\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, save it!\"\n    }).then((result) => {\n      if (result.isConfirmed) {\n         let itemS = new Item(item.value);\n         this.wikiservice.saveItemWiki(itemS).subscribe(\n          {\n            next:(data)=>\n            {\n              Swal.fire({\n                title: \"Saved!\",\n                text: \"Your item has been saved.\",\n                icon: \"success\"\n              }); \n              setTimeout(()=>{\n                window.location.reload();\n              }, 100)\n\n            },\n            error:(err)=>\n            {\n              Swal.fire({\n                position: \"top-end\",\n                icon: \"error\",\n                title: \"Something went wrong! try later\",\n                showConfirmButton: false,\n                timer: 1500\n              });\n\n            }\n          }\n         )\n      }\n    });\n  }\n  }\n  deleteItem(iditem:any)\n  {\n    alert(iditem)\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,KAAK,QAAgB,eAAe;AACxD,SAASC,IAAI,QAAQ,qBAAqB;AAE1C,OAAOC,IAAI,MAAM,aAAa;AAO9B,IAAaC,oBAAoB,GAAjC,MAAaA,oBAAoB;EAG/BC,YAAoBC,WAAyB;IAAzB,KAAAA,WAAW,GAAXA,WAAW;IAF/B,KAAAC,QAAQ,GAAC,EAAE;IACF,KAAAC,kBAAkB,GAAS,KAAK;EAIzC;EACAC,QAAQA,CAAA;IACJ,IAAI,CAACH,WAAW,CAACI,cAAc,EAAE,CAACC,SAAS,CACzC;MACEC,IAAI,EAAEC,IAAI,IAAG;QAEXC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjB,IAAI,CAACN,QAAQ,GAACM,IAAI;MACpB,CAAC;MACDG,KAAK,EAAEC,GAAG,IAAG;QAEXd,IAAI,CAACe,IAAI,CAAC;UACRC,QAAQ,EAAE,SAAS;UACnBC,IAAI,EAAE,OAAO;UACbC,KAAK,EAAE,iCAAiC;UACxCC,iBAAiB,EAAE,KAAK;UACxBC,KAAK,EAAE;SACR,CAAC;MAGJ;KACD,CACF;EACL;EAGAC,WAAWA,CAACC,IAAQ;IAElB,IAAGA,IAAI,CAACC,KAAK,IAAE,EAAE,EACjB;MACAvB,IAAI,CAACe,IAAI,CAAC;QACRG,KAAK,EAAE,eAAe;QACtBM,IAAI,EAAE,gCAAgC;QACtCP,IAAI,EAAE,SAAS;QACfQ,gBAAgB,EAAE,IAAI;QACtBC,kBAAkB,EAAE,SAAS;QAC7BC,iBAAiB,EAAE,MAAM;QACzBC,iBAAiB,EAAE;OACpB,CAAC,CAACC,IAAI,CAAEC,MAAM,IAAI;QACjB,IAAIA,MAAM,CAACC,WAAW,EAAE;UACrB,IAAIC,KAAK,GAAG,IAAIjC,IAAI,CAACuB,IAAI,CAACC,KAAK,CAAC;UAChC,IAAI,CAACpB,WAAW,CAAC8B,YAAY,CAACD,KAAK,CAAC,CAACxB,SAAS,CAC7C;YACEC,IAAI,EAAEC,IAAI,IAAG;cAEXV,IAAI,CAACe,IAAI,CAAC;gBACRG,KAAK,EAAE,QAAQ;gBACfM,IAAI,EAAE,2BAA2B;gBACjCP,IAAI,EAAE;eACP,CAAC;cACFiB,UAAU,CAAC,MAAI;gBACbC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;cAC1B,CAAC,EAAE,GAAG,CAAC;YAET,CAAC;YACDxB,KAAK,EAAEC,GAAG,IAAG;cAEXd,IAAI,CAACe,IAAI,CAAC;gBACRC,QAAQ,EAAE,SAAS;gBACnBC,IAAI,EAAE,OAAO;gBACbC,KAAK,EAAE,iCAAiC;gBACxCC,iBAAiB,EAAE,KAAK;gBACxBC,KAAK,EAAE;eACR,CAAC;YAEJ;WACD,CACD;;MAEN,CAAC,CAAC;;EAEJ;EACAkB,UAAUA,CAACC,MAAU;IAEnBC,KAAK,CAACD,MAAM,CAAC;EACf;CACD;AAhFUE,UAAA,EAAR3C,KAAK,EAAE,C,+DAAkC;AAF/BG,oBAAoB,GAAAwC,UAAA,EALhC5C,SAAS,CAAC;EACT6C,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,C,EACW3C,oBAAoB,CAkFhC;SAlFYA,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}